**[LS XGB PLC + M100 Inverter 연결 및 설정 가이드]**

---

### 🔹 1. 가상 구성

- **PLC**: LS XGB Series (e.g., XBC-DN32H)
- **Inverter**: LS M100 (RS-485 통신)
- **통신 형식**: Modbus RTU (P2P 통신)
- **도움될 지점**: USB 연결, XG5000 프로그래밍 도구도움

---

### 🔹 2. 개발 프로그램 (XG5000)

#### ▶ XG5000 연결 확인
- Online → 편집 방식: **개인 연결(USB)**
- "연결 테스트" 클릭 → "정상 연결" 나오면 OK

---

### 🔹 3. Inverter (M100) 설정

#### ▶ 통신 구조 (CM 구분)
| 파라미터 | 값 | 설명 |
|----------|----|-------|
|  CM.01   | 1  | 통신 사용 |
|  CM.02   | 1  | LS INV 485 (Modbus RTU) |
|  CM.03   | 3  | 9600bps (bPS = 3) |
|  CM.04   | 0  |
|  CM.05   | 2  |

#### ▶ 운전 설정
| 파라미터 | 값 | 설명 |
|----------|----|------|
| DRV | 3 | 통신으로 운전 진행 |
| Frq | 9 | 통신으로 주호 발전 |

---

### 🔹 4. PLC P2P 설정 (XG5000)

#### ▶ 드라이버: LS INV 485 클라이언트
#### ▶ CH2 (RS-485) 사용

| 번호 | 구분 | P2P | PLC Address | Inverter Address |
|------|------|-----|-------------|------------------|
| 1 | 설정 | WRITE | `D100` | `0x0005` (주파수) |
| 2 | 설정 | WRITE | `D200` | `0x0006` (명령어) |

---

### 🔹 5. LD 설정 예시 (최신 버전 기준)

#### ▶ 운전 명령 (정회전 / 역회전)
```ladder
[M00010] ------------------[ MOV 2 D00200 ]     // 정회전
[M00020] ------------------[ MOV 1 D00200 ]     // 역회전
```

#### ▶ 기본 파라미터 전송 (지정 주파수, 가속/감속 시간)
```ladder
[_ON] ---------------------[ MOV D00110 D00100 ]  // 주파수 설정
                           [ MOV D00310 D00300 ]  // 가속 시간
                           [ MOV D00410 D00400 ]  // 감속 시간
[_ON] ---------------------[ P0002C ]             // 초기 동작 조건 만족
```

---

### 🔹 6. 정보 체크 항목

- 통신이 안 되면:
  - Frq = 9, DRV = 3 확인
  - M00100 (P2P 가능 조건) ON 확인
  - P2P WRITE 설정에서 SAVE1:0x0006 / 0x0007 바로 검색
  - CM 1~5 설정 확인

---

### ✔️ 3줄 요약

1. LS XGB + M100은 RS485 + Modbus RTU로 바로 연결.
2. 주파수 = 6, 명령어 = 7이다. P2P 설정 확인
3. XG5000에서 USB로 "개인 연결"되면 포트는 안 보여도 정상인 것이다.


